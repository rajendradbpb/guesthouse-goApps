<section class="content-header">
  <h1>
    Add New User
    <small>Control panel</small>
  </h1>
</section>
<section class="content">
  <div class="">
    <div class="box box-info">
      <div class="box-header with-border">
        <h3 class="box-title">Add User</h3>
      </div>
      <form class="form-horizontal" name="adduser">
        <div class="box-body">
          <div class="form-group" ng-class="{'has-error': (adduser.first_name.$invalid && adduser.first_name.$touched)}">
             <label for="inputEmail3" class="col-sm-3 control-label">First Name</label>
             <div class="col-sm-8">
               <input type="text" class="form-control" name="first_name" ng-model="user.firstName" placeholder="First Name" required ng-pattern="/^(\D)+$/">
               <span class="help-block" ng-show="adduser.first_name.$error.required && adduser.first_name.$touched">Please enter first name</span>
               <span class="help-block" ng-show="adduser.first_name.$error.pattern && adduser.first_name.$touched">Name should not be numeric</span>
             </div>
           </div>
           <div class="form-group" ng-class="{'has-error': (adduser.middle_name.$invalid && adduser.middle_name.$touched)}">
              <label for="inputEmail3" class="col-sm-3 control-label">Middle Name</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" name="middle_name" ng-model="user.middleName" placeholder="Middle Name" required ng-pattern="/^(\D)+$/">
                <span class="help-block" ng-show="adduser.middle_name.$error.required && adduser.middle_name.$touched">Please enter middle name</span>
                <span class="help-block" ng-show="adduser.middle_name.$error.pattern && adduser.middle_name.$touched">Name should not be numeric</span>
              </div>
            </div>
           <div class="form-group" ng-class="{'has-error': (adduser.last_name.$invalid && adduser.last_name.$touched)}">
              <label for="inputEmail3" class="col-sm-3 control-label">Last Name</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" name="last_name" ng-model="user.lastName" placeholder="Last Name" required ng-pattern="/^(\D)+$/">
                <span class="help-block" ng-show="adduser.last_name.$error.required && adduser.last_name.$touched">Please enter last name</span>
                <span class="help-block" ng-show="adduser.last_name.$error.pattern && adduser.last_name.$touched">Name should not be numeric</span>
              </div>
            </div>
            <div class="form-group" ng-class="{'has-error': (adduser.user_email.$invalid && adduser.user_email.$touched)}">
             <label for="inputPassword3" class="col-sm-3 control-label">Email(optional)</label>
             <div class="col-sm-8">
                 <input type="email" class="form-control" name="user_email" ng-model="user.email" placeholder="Email" required>
                 <span class="help-block" ng-show="adduser.user_email.$error.required && adduser.user_email.$touched">Please enter user  mail id</span>
             </div>
           </div>
           <div class="form-group" ng-class="{'has-error': (adduser.user_role.$invalid && adduser.user_role.$touched)}">
             <label for="inputPassword3" class="col-sm-3 control-label">Assign Role</label>
             <div class="col-sm-8">
               <select name="user_role" ng-options="role as role.type for role in roleType track by role._id" ng-model="selectedRole" ng-init="getRoleType()" ng-change="onSelectRole()">
               </select>
             </div>
           </div>
           <div  ng-if="selectedRole.type == 'ghUser'" >

             <div class="form-group" ng-class="{'has-error': (adduser.guestHouseName.$invalid && adduser.guestHouseName.$touched)}">
               <label for="inputPassword3" class="col-sm-3 control-label">Guest House Name</label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="guestHouseName" ng-model="user.guestHouseName" placeholder="guest House Name" required  >
                 <span class="help-block" ng-show="adduser.guestHouseName.$error.required && adduser.guestHouseName.$touched">Please enter guest House Name</span>
                 <span class="help-block" ng-show="adduser.guestHouseName.$error.pattern && adduser.guestHouseName.$touched"> guestHouseName price should  be numeric</span>
               </div>
             </div>
             <div class="form-group" ng-class="{'has-error': (adduser.min_price.$invalid && adduser.min_price.$touched)}">
               <label for="inputPassword3" class="col-sm-3 control-label">Min Price</label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="min_price" ng-model="user.minPrice" placeholder="Min Price" required  >
                 <span class="help-block" ng-show="adduser.min_price.$error.required && adduser.min_price.$touched">Please enter min price</span>
                 <span class="help-block" ng-show="adduser.min_price.$error.pattern && adduser.min_price.$touched"> min price should  be numeric</span>
               </div>
             </div>
             <div class="form-group" ng-class="{'has-error': (adduser.max_price.$invalid && adduser.max_price.$touched)}">
               <label for="inputPassword3" class="col-sm-3 control-label">Max Price</label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="max_price" ng-model="user.maxPrice" placeholder="Max Price" required  >
                 <!-- <span class="help-block" ng-show="adduser.max_price.$error.required && adduser.max_price.$touched">Please enter max price</span>
                 <span class="help-block" ng-show="adduser.max_price.$error.pattern && adduser.max_price.$touched"> max price should be numeric</span> -->
               </div>
             </div>
             <div class="form-group">
               <label for="inputPassword3" class="col-sm-3 control-label">Mobile</label>
               <div class="col-sm-8"  ng-class="{'has-error': (adduser.mobile.$invalid && adduser.mobile.$touched)}">
                   <input type="text" class="form-control" name="mobile" ng-model="user.mobile" placeholder="Mobile no." required ng-pattern="/^[0-9]{10,10}$/">
                   <span class="help-block" ng-show="adduser.mobile.$error.required && adduser.mobile.$touched">Please enter mobile number</span>
                   <span class="help-block" ng-show="adduser.mobile.$error.pattern && adduser.mobile.$touched">Invalid mobile number</span>
               </div>
             </div>
             <div class="form-group">
               <label for="inputPassword3" class="col-sm-3 control-label">Establish Date</label>
               <dateviewer></dateviewer>
             </div>
           </div>
          <div class="form-group" ng-class="{'has-error': (adduser.user_name.$invalid && adduser.user_name.$touched)}">
             <label for="inputEmail3" class="col-sm-3 control-label">User Name</label>
             <div class="col-sm-8">
               <input type="text" class="form-control" name="user_name" ng-model="user.userName" placeholder="User Name" required ng-pattern="/^(\D)+$/">
               <span class="help-block" ng-show="adduser.user_name.$error.required && adduser.user_name.$touched">Please enter user name</span>
               <span class="help-block" ng-show="adduser.user_name.$error.pattern && adduser.user_name.$touched">Name should not be numeric</span>
             </div>
           </div>
           <div class="form-group" ng-class="{'has-error': (adduser.password.$invalid && adduser.password.$touched)}">
              <label for="inputEmail3" class="col-sm-3 control-label">password</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" name="password" ng-model="user.password" placeholder="Password" required>
              </div>
            </div>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
          <button type="submit" class="btn btn-default" ui-sref="dashboard">Cancel</button>
          <button ng-disabled="adduser.$invalid" type="submit" class="btn btn-info pull-right" ng-click="submitUserDetails()">Submit</button>
          <section  align="center m-t-sm">
              <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="close()">{{alert.msg}}</alert>
          </section>
        </div>
        <!-- /.box-footer -->
      </form>
    </div>
  </div>
</section>
